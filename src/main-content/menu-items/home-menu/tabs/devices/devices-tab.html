<div
    class="device-button"
    :if="this.devices && this.devices.length"
    :foreach="device in this.devices"
    :ontouchstart="this.deviceTouchStart(event, device)"
    :ontouchend="this.deviceTouchEnd(event, device)"
    :ontouchmove="this.deviceTouchMove(event, device)"
    :class:active="device.value"
    oncontextmenu="return false;"
>
    <div class="device-header">
        <div class="name">
            <i
                :if="device.deviceCategory === 'evap-cooler'"
                class="iconoir-lifebelt"
            ></i>
            <i
                :if="device.deviceCategory === 'light'"
                class="iconoir-light-bulb"
            ></i>
            <i
                :if="device.deviceCategory === 'dimmable-light'"
                class="iconoir-light-bulb"
            ></i>
            ${device.name}
        </div>
        <span class="auto-indicator" :class:on="!device.manual"
            >${device.manual ? 'MANUAL' : 'AUTO'}</span
        >
    </div>

    <div class="device-value">
        <!-- Displays value in header for range value devices -->
        <div
            class="value range"
            :if="device.deviceCategory === 'dimmable-light'"
        >
            <div class="percent">${device.value + '%'}</div>

            <div class="bar-track">
                <div class="bar-value" :style:width="device.value + '%'"></div>
            </div>
        </div>

        <!-- Show ON/OFF for light devices -->
        <div
            class="value light"
            :if="device.deviceCategory === 'light'"
            :class:on="device.value"
        >
            ${device.value ? 'ON' : 'OFF'}
        </div>

        <div class="value camera" :if="device.deviceCategory === 'camera'">
            <img :src="device.value" alt="" />
        </div>

        <!-- Display fan/water pump state for evap-cooler -->
        <div
            :if="device.deviceCategory === 'evap-cooler'"
            class="value evap-cooler"
        >
            <div class="fan-state" :class:on="device.value.fan">
                <i class="iconoir-airplane-rotation"></i>
                ${device.value.fan ? 'ON' : 'OFF'}
            </div>
            <div class="water-pump-state" :class:on="device.value.water">
                <i class="iconoir-droplet"></i>
                ${device.value.water ? 'ON' : 'OFF'}
            </div>

            <div class="target-temp">${device.value.target}Â°C</div>
        </div>
    </div>
</div>
<div :else>No Devices detected in your network :(</div>
